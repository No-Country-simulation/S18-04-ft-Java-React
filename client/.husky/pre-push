set +e
if [ ! -d "client" ]; then
  echo "Not found client skip pre-commit for client."
  exit 0
fi

if ! git diff --cached --name-only | grep -q '^client/'; then
  echo "No changes in client, skipping pre-commit for client."
  exit 0
fi

cd client

npx vitest run --passWithNoTests || { echo -e "$(tput setaf 1)❌Tests failed. Push aborted.$(tput sgr0)"; exit 1; }